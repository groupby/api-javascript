language: node_js
node_js:
- '0.12'
- '0.10'
- iojs

cache:
  directories:
  - node_modules

after_success:
- codeclimate-test-reporter < coverage/lcov.info

before_deploy:
- gulp build
deploy:
  provider: npm
  email: ops@groupbyinc.com
  api_key: $NPM_API_KEY
  on:
    tags: true
    node: '0.12'
